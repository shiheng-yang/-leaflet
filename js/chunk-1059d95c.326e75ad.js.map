{"version":3,"sources":["webpack:///./public/home/bgc2.jpg","webpack:///./src/views/leaflet1.vue","webpack:///src/views/leaflet1.vue","webpack:///./src/views/leaflet1.vue?1914","webpack:///./src/views/leaflet1.vue?be13","webpack:///./src/views/leaflet1.vue?550f"],"names":["module","exports","render","_vm","this","_self","_c","_m","staticRenderFns","staticClass","attrs","DefaultIcon","L","iconUrl","icon","shadowUrl","iconShadow","prototype","options","data","map","fillColor","bounds","methods","initMap","minZoom","zoom","maxZoom","zoomSnap","attributionControl","zoomControl","crs","Simple","center","pm","setLang","addControls","position","drawPolygon","drawMarker","drawCircleMarker","drawPolyline","drawRectangle","drawCircle","editMode","dragMode","cutPolygon","removalMode","setPathOptions","fillOpacity","initDate","img","Image","url","require","src","onload","w","width","h","height","addTo","fitBounds","on","createClick","removeClick","dragging","disable","doubleClickZoom","scrollWheelZoom","e","layer","setStyle","editLayClick","layClick","dragendLayClick","mounted","window","onresize","invalidateSize","component"],"mappings":"8HAAAA,EAAOC,QAAU,IAA0B,yB,yCCA3C,IAAIC,EAAS,WAAkB,IAAIC,EAAIC,KAAQD,EAAIE,MAAMC,GAAG,OAAOH,EAAII,GAAG,IAEtEC,EAAkB,CAAC,WAAY,IAAIL,EAAIC,KAAKE,EAAGH,EAAIE,MAAMC,GAAG,OAAOA,EAAG,MAAM,CAACG,YAAY,UAAU,CAACH,EAAG,MAAM,CAACI,MAAM,CAAC,GAAK,kB,4GCa9H,MAAAC,EAAAC,UAAA,CACAC,QAAAC,IACAC,UAAAC,MAEAJ,YAAAK,UAAAC,QAAAJ,KAAAH,EACe,OACfQ,OACA,OACAC,IAAA,KACAC,UAAA,YACAC,OAAA,CACA,MACA,SAIAC,QAAA,CAEAC,UACA,KAAAJ,IAAAR,SAAA,YACAa,SAAA,EACAC,KAAA,EACAC,QAAA,EACAC,SAAA,GACAC,oBAAA,EACAC,aAAA,EACAC,IAAAnB,SAAAoB,OACAC,OAAA,QAEA,KAAAb,IAAAc,GAAAC,QAAA,MACA,KAAAf,IAAAc,GAAAE,YAAA,CACAC,SAAA,UACAC,aAAA,EACAC,YAAA,EACAC,kBAAA,EACAC,cAAA,EACAC,eAAA,EACAC,YAAA,EACAC,UAAA,EACAC,UAAA,EACAC,YAAA,EACAC,aAAA,IAGA,KAAA3B,IAAAc,GAAAc,eAAA,CACAC,YAAA,GACA5B,UAAA,KAAAA,aAIA6B,WAEA,IAAAC,EAAA,IAAAC,MACAC,EAAAC,EAAA,QACAH,EAAAI,IAAAF,EACAF,EAAAK,OAAA,KACA,IAAAC,EAAAN,EAAAO,MACAC,EAAAR,EAAAS,OACA,KAAAtC,OAAA,CACA,MACA,CAAAqC,EAAAF,IAGA7C,kBAAAyC,EAAA,KAAA/B,QAAAuC,MAAA,KAAAzC,KAEA,KAAAA,IAAA0C,UAAA,KAAAxC,SAGA,KAAAF,IAAA2C,GAAA,iBAAAC,aACA,KAAA5C,IAAA2C,GAAA,iBAAAE,aAEA,KAAA7C,IAAA8C,SAAAC,UAEA,KAAA/C,IAAAgD,gBAAAD,UAEA,KAAA/C,IAAAiD,gBAAAF,WAGAH,YAAAM,GAGAA,EAAAC,MAAAC,SAAA,CACAvB,YAAA,GACA5B,UAAA,KAAAA,YAUAiD,EAAAC,MAAAR,GAAA,eAAAU,cAAAV,GAAA,aAAAW,UAAAX,GAAA,kBAAAY,kBAGAV,YAAAK,KAIAI,SAAAJ,KAIAK,gBAAAL,KAIAG,aAAAH,MAIAM,UACA,KAAApD,UACA,KAAA0B,WAEA2B,OAAAC,SAAA,KACA,KAAA1D,IAAA2D,gBAAA,GACA,KAAA3D,IAAA0C,UAAA,KAAAxC,WCrIiV,I,wBCQ7U0D,EAAY,eACd,EACA9E,EACAM,GACA,EACA,KACA,WACA,MAIa,aAAAwE,E,2CCnBf","file":"js/chunk-1059d95c.326e75ad.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/bgc2.399a34d2.jpg\";","var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"imgBox\"},[_c('div',{attrs:{\"id\":\"imageMap\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"imgBox\">\n    <div id=\"imageMap\"></div>\n  </div>\n</template>\n<script>\nimport 'leaflet/dist/leaflet.css'\nimport 'leaflet/dist/leaflet'\nimport 'leaflet/dist/leaflet-src'\nimport 'leaflet/dist/leaflet-src.esm'\nimport * as L from 'leaflet'\nimport icon from 'leaflet/dist/images/marker-icon.png'\nimport iconShadow from 'leaflet/dist/images/marker-shadow.png'\nimport 'leaflet.pm'\nimport 'leaflet.pm/dist/leaflet.pm.css'\nconst DefaultIcon = L.icon({\n  iconUrl: icon,\n  shadowUrl: iconShadow,\n})\nL.Marker.prototype.options.icon = DefaultIcon\nexport default {\n  data() {\n    return {\n      map: null,\n      fillColor: '#2d75ff80',\n      bounds: [\n        [0, 0],\n        [0, 0],\n      ], // 平面图大小\n    }\n  },\n  methods: {\n    // 平面图初始化\n    initMap() {\n      this.map = L.map('imageMap', {\n        minZoom: -3,\n        zoom: 5,\n        maxZoom: 4,\n        zoomSnap: 0.1, // 缩放步长\n        attributionControl: false, // 右下角图例控件\n        zoomControl: true, // 缩放控件\n        crs: L.CRS.Simple, // 坐标系\n        center: [0, 0], // 中心点\n      })\n      this.map.pm.setLang('zh') // 控件提示设置中文\n      this.map.pm.addControls({\n        position: 'topleft', // 控件菜单位置\n        drawPolygon: true, //绘制多边形\n        drawMarker: true, //绘制标记点\n        drawCircleMarker: true, //绘制圆形标记\n        drawPolyline: true, //绘制线条\n        drawRectangle: true, //绘制矩形\n        drawCircle: true, //绘制圆圈\n        editMode: true, //编辑多边形\n        dragMode: true, //拖动多边形\n        cutPolygon: true, //添加⼀个按钮以删除多边形⾥⾯的部分内容\n        removalMode: true, //清除多边形\n      })\n      // 全局图层样式\n      this.map.pm.setPathOptions({\n        fillOpacity: 0.5,\n        fillColor: this.fillColor,\n      })\n    },\n    // 地图初始化\n    initDate() {\n      // 获取图片宽高,防止不同尺寸的图片回显在页面上有多余的留白问题\n      let img = new Image()\n      let url = require('../../public/home/bgc2.jpg')\n      img.src = url\n      img.onload = () => {\n        let w = img.width\n        let h = img.height\n        this.bounds = [\n          [0, 0],\n          [h, w],\n        ]\n        // 创建地图\n        L.imageOverlay(url, this.bounds).addTo(this.map)\n        // 设置地图图层区域\n        this.map.fitBounds(this.bounds)\n      }\n      // 给地图绑定绘制、删除的事件\n      this.map.on('pm:create', this.createClick)\n      this.map.on('pm:remove', this.removeClick)\n      // 禁止背景图拖拽,默认是可拖拽的\n      this.map.dragging.disable()\n      // 禁止双击缩放,默认是可双击缩放的\n      this.map.doubleClickZoom.disable()\n      // 禁止滚动缩放,默认是可滚动缩放的\n      this.map.scrollWheelZoom.disable()\n    },\n    // 图层绘制完成\n    createClick(e) {\n      // console.log('图层绘制完成', e)\n      // 设置图层样式\n      e.layer.setStyle({\n        fillOpacity: 0.5,\n        fillColor: this.fillColor,\n        // color：线段颜色\n        // weight：线段宽度\n        // opacity：线段透明度\n        // dashArray：虚线间隔\n        // fill：是否填充内部(true/false)\n        // fillColor:内部填充颜色，如不设置，默认为color颜色\n        // fillOpacity：内部填充透明度\n      })\n      // 给图层绑定点击、拖拽、编辑事件\n      e.layer.on('pm:edit', this.editLayClick).on('click', this.layClick).on('pm:dragend', this.dragendLayClick)\n    },\n    // 图层删除\n    removeClick(e) {\n      // console.log('图层删除', e)\n    },\n    // 区域图层点击\n    layClick(e) {\n      // console.log('区域图层点击', e)\n    },\n    // 区域图层拖拽\n    dragendLayClick(e) {\n      // console.log('区域图层拖拽', e)\n    },\n    // 区域图层编辑\n    editLayClick(e) {\n      // console.log('图层编辑', e)\n    },\n  },\n  mounted() {\n    this.initMap()\n    this.initDate()\n    // 窗口缩放,地图自适应缩放\n    window.onresize = () => {\n      this.map.invalidateSize(true)\n      this.map.fitBounds(this.bounds)\n    }\n  },\n}\n</script>\n<style lang=\"less\" scoped>\n.imgBox {\n  width: 50%;\n  height: 100%;\n  padding: 0 10px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  box-sizing: border-box;\n  #imageMap {\n    height: 100%;\n    box-sizing: border-box;\n  }\n}\n.leaflet-container {\n  font-size: 0.2rem;\n  background: #fff;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./leaflet1.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./leaflet1.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./leaflet1.vue?vue&type=template&id=042f85dd&scoped=true\"\nimport script from \"./leaflet1.vue?vue&type=script&lang=js\"\nexport * from \"./leaflet1.vue?vue&type=script&lang=js\"\nimport style0 from \"./leaflet1.vue?vue&type=style&index=0&id=042f85dd&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"042f85dd\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./leaflet1.vue?vue&type=style&index=0&id=042f85dd&prod&lang=less&scoped=true\""],"sourceRoot":""}